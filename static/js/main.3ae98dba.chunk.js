(this["webpackJsonptot-systems-network-app"]=this["webpackJsonptot-systems-network-app"]||[]).push([[0],{32:function(e,t,r){e.exports={link:"PageLinks_link__2aEvz"}},41:function(e,t,r){},42:function(e,t,r){},48:function(e,t,r){"use strict";r.r(t);var a=r(0),s=r.n(a),i=r(19),n=r.n(i),o=(r(41),r(42),r(3)),c=r(5),l=r(24),d=r(12),u={isLoggedIn:!1,loggedId:0,validation:""},j={SET_IS_LOGGED_IN:"login/SET_IS_LOGGED_IN",SET_LOGIN_VALIDATION:"login/SET_LOGIN_VALIDATION"},p=function(e,t){return function(r,a){var s,i,n,o=a().registration.registeredUsers.find((function(r){return r.email===e&&r.password===t}));r(void 0!==o?(i=o.id,n=!0,{type:j.SET_IS_LOGGED_IN,id:i,value:n}):(s="\u041d\u0435 \u043f\u0440\u0430\u0432\u0438\u043b\u044c\u043d\u044b\u0439 \u0430\u0434\u0440\u0435\u0441 \u043f\u043e\u0447\u0442\u044b \u0438\u043b\u0438 \u043f\u0430\u0440\u043e\u043b\u044c",{type:j.SET_LOGIN_VALIDATION,validation:s}))}},b=r(1),O=function(){Object(d.c)((function(e){return e.login.isLoggedIn}));var e=Object(d.c)((function(e){return e.login.validation})),t=Object(d.b)(),r=Object(l.a)({initialValues:{email:"",password:""},validate:function(e){var t={};return e.email?/^[A-Z0-9._%+-]+@[A-Z0-9.-]+\.[A-Z]{2,4}$/i.test(e.email)||(t.email="Invalid email address"):t.email="Required",e.password?e.password.length<3&&(t.password="Must be 3 characters at least"):t.password="Required",t},onSubmit:function(e){var a=e.email,s=e.password;r.resetForm(),alert(e),t(p(a,s))}});return Object(b.jsx)("div",{children:Object(b.jsxs)("form",{onSubmit:r.handleSubmit,children:[Object(b.jsx)("input",Object(c.a)({placeholder:"Email"},r.getFieldProps("email"))),r.touched.email&&r.errors.email?Object(b.jsx)("div",{style:{color:"red"},children:r.errors.email}):null,Object(b.jsx)("input",Object(c.a)({type:"password",placeholder:"Password"},r.getFieldProps("password"))),r.touched.password&&r.errors.password?Object(b.jsx)("div",{style:{color:"red"},children:r.errors.password}):null,Object(b.jsx)("button",{type:"submit",children:"Login"}),e&&Object(b.jsx)("div",{style:{color:"red"},children:e})]})})},m=r(35),h=r(34),g={registeredUsers:[]},f={ADD_REGISTERED_USER:"reg/ADD_REGISTERED_USER"},v=function(e){var t=Object(d.c)((function(e){return e.registration.registeredUsers})),r=Object(a.useState)(!1),s=Object(m.a)(r,2),i=s[0],n=s[1],u=Object(d.b)(),j=Object(l.a)({initialValues:{firstName:"",lastName:"",email:"",password:"",passwordCheck:""},validate:function(e){var r={},a=t.find((function(t){return t.email===e.email}));return e.firstName||(r.firstName="\u041e\u0431\u044f\u0437\u0430\u0442\u0435\u043b\u044c\u043d\u043e\u0435 \u043f\u043e\u043b\u0435"),e.lastName||(r.lastName="\u041e\u0431\u044f\u0437\u0430\u0442\u0435\u043b\u044c\u043d\u043e\u0435 \u043f\u043e\u043b\u0435"),e.email?/^[A-Z0-9._%+-]+@[A-Z0-9.-]+\.[A-Z]{2,4}$/i.test(e.email)?void 0!==a&&(r.email="\u042d\u0442\u0430 \u044d\u043b.\u043f\u043e\u0447\u0442\u0430 \u0443\u0436\u0435 \u0437\u0430\u0440\u0438\u0433\u0435\u0441\u0442\u0440\u0438\u0440\u043e\u0432\u0430\u043d\u0430"):r.email="\u041d\u0435 \u0434\u0435\u0439\u0441\u0442\u0432\u0438\u0442\u0435\u043b\u044c\u043d\u0430\u044f \u044d\u043b.\u043f\u043e\u0447\u0442\u0430":r.email="\u041e\u0431\u044f\u0437\u0430\u0442\u0435\u043b\u044c\u043d\u043e\u0435 \u043f\u043e\u043b\u0435",e.password?e.password.length<7&&(r.password="\u041f\u0430\u0440\u043e\u043b\u044c \u0434\u043e\u043b\u0436\u0435\u043d \u0441\u043e\u0441\u0442\u043e\u044f\u0442\u044c \u043c\u0438\u043d\u0438\u043c\u0443\u043c \u0438\u0437 7 \u0441\u0438\u043c\u0432\u043e\u043b\u043e\u0432"):r.password="\u041e\u0431\u044f\u0437\u0430\u0442\u0435\u043b\u044c\u043d\u043e\u0435 \u043f\u043e\u043b\u0435",e.password!==e.passwordCheck&&(r.passwordCheck="\u041f\u0430\u0440\u043e\u043b\u0438 \u043d\u0435 \u0441\u043e\u0432\u043f\u0430\u0434\u0430\u044e\u0442"),r},onSubmit:function(e){var t=e.firstName,r=e.lastName,a=e.email,s=e.password;j.resetForm(),console.log(e),u(function(e,t,r,a){var s={id:Date.now(),firstName:e,lastName:t,email:r,password:a};return{type:f.ADD_REGISTERED_USER,payload:s}}(t,r,a,s)),n(!0)}});return i?Object(b.jsx)(o.a,{to:"/"}):Object(b.jsx)("div",{children:Object(b.jsxs)("form",{onSubmit:j.handleSubmit,children:[Object(b.jsx)("input",Object(c.a)({placeholder:"\u0418\u043c\u044f"},j.getFieldProps("firstName"))),j.touched.firstName&&j.errors.firstName?Object(b.jsx)("div",{style:{color:"red"},children:j.errors.firstName}):null,Object(b.jsx)("input",Object(c.a)({placeholder:"\u0424\u0430\u043c\u0438\u043b\u0438\u044f"},j.getFieldProps("lastName"))),j.touched.lastName&&j.errors.lastName?Object(b.jsx)("div",{style:{color:"red"},children:j.errors.lastName}):null,Object(b.jsx)("input",Object(c.a)({placeholder:"\u042d\u043b.\u043f\u043e\u0447\u0442\u0430"},j.getFieldProps("email"))),j.touched.email&&j.errors.email?Object(b.jsx)("div",{style:{color:"red"},children:j.errors.email}):null,Object(b.jsx)("input",Object(c.a)({type:"password",placeholder:"\u043f\u0430\u0440\u043e\u043b\u044c"},j.getFieldProps("password"))),j.touched.password&&j.errors.password?Object(b.jsx)("div",{style:{color:"red"},children:j.errors.password}):null,Object(b.jsx)("input",Object(c.a)({type:"password",placeholder:"\u0432\u0432\u0435\u0434\u0438\u0442\u0435 \u0435\u0449\u0451 \u0440\u0430\u0437 \u043f\u0430\u0440\u043e\u043b\u044c"},j.getFieldProps("passwordCheck"))),j.touched.passwordCheck&&j.errors.passwordCheck?Object(b.jsx)("div",{style:{color:"red"},children:j.errors.passwordCheck}):null,Object(b.jsx)("button",{type:"submit",children:"\u0417\u0430\u0440\u0438\u0433\u0435\u0441\u0442\u0440\u0438\u0440\u043e\u0432\u0430\u0442\u044c\u0441\u044f"})]})})},_="/login",x="/register",w=[{_id:0,title:"main",path:"/",exact:!0,page:Object(b.jsx)(o.a,{to:_})},{_id:1,title:"login",path:_,exact:!0,page:Object(b.jsx)(O,{})},{_id:2,title:"register",path:x,exact:!0,page:Object(b.jsx)(v,{})},{_id:9999,title:"error404",page:Object(b.jsx)("div",{children:"error404"})}],S=r(36),E=r(15),N=r(32),I=r.n(N),y=s.a.memo((function(e){e.info;var t=Object(S.a)(e,["info"]);return Object(b.jsx)(E.b,Object(c.a)({className:I.a.link},t))})),D=w.map((function(e){return Object(b.jsx)(y,{to:(e.path||"/error404")+(e.params?"/1":""),info:"navLink-"+e._id,children:e.title},"navLink-"+e._id)})),L=function(){return Object(b.jsx)(b.Fragment,{children:D})},T=w.map((function(e){return Object(b.jsx)(o.b,{path:e.path&&e.path+(e.params||""),exact:e.exact,render:function(){return e.page}},"route-"+e._id)})),A=function(){return Object(b.jsx)(o.d,{children:T})};var k=function(){return Object(b.jsxs)("div",{className:"App",children:[Object(b.jsx)(L,{}),Object(b.jsx)(A,{})]})},G=function(e){e&&e instanceof Function&&r.e(3).then(r.bind(null,49)).then((function(t){var r=t.getCLS,a=t.getFID,s=t.getFCP,i=t.getLCP,n=t.getTTFB;r(e),a(e),s(e),i(e),n(e)}))},R=r(18),F=r(33),P=Object(R.b)({login:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:u,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case j.SET_IS_LOGGED_IN:return Object(c.a)(Object(c.a)({},e),{},{loggedId:t.id,isLoggedIn:t.value});case j.SET_LOGIN_VALIDATION:return Object(c.a)(Object(c.a)({},e),{},{validation:t.validation});default:return e}},registration:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:g,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case f.ADD_REGISTERED_USER:return Object(c.a)(Object(c.a)({},e),{},{registeredUsers:[].concat(Object(h.a)(e.registeredUsers),[t.payload])});default:return e}}}),C=window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||R.c,U=Object(R.d)(P,function(){try{var e=localStorage.getItem("app-state");if(null===e)return;return JSON.parse(e)}catch(t){return}}(),C(Object(R.a)(F.a)));U.subscribe((function(){!function(e){try{var t=JSON.stringify(e);localStorage.setItem("app-state",t)}catch(r){}}({login:U.getState().login,registration:U.getState().registration})})),n.a.render(Object(b.jsx)(E.a,{children:Object(b.jsx)(s.a.StrictMode,{children:Object(b.jsx)(d.a,{store:U,children:Object(b.jsx)(k,{})})})}),document.getElementById("root")),G()}},[[48,1,2]]]);
//# sourceMappingURL=main.3ae98dba.chunk.js.map